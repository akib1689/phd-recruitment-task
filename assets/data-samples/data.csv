Project URL, Commit URL, Commit Message, CFG in DOT format
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 13; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] int i = 0"] 	2[shape=diamond,label="[2] i < args.length"] 	3[shape=box,label="[3] String[] split = args[i].split(\"=\")"] 	4[shape=diamond,label="[4] split[0].equalsIgnoreCase(\"--port\")"] 	5[shape=box,label="[5] port = Integer.parseInt(split[1])"] 	6[shape=box,label="[6] i++"] 	7[shape=box,label="[7] InetSocketAddress addr = new InetSocketAddress(port)"] 	8[shape=box,label="[8] HttpServer server = HttpServer.create(addr, 0)"] 	9[shape=parallelogram,label="[9] server.createContext(\"/\", new DaisyDiffHandler())"] 	10[shape=parallelogram,label="[10] server.setExecutor(Executors.newCachedThreadPool())"] 	11[shape=parallelogram,label="[11] server.start()"] 	12[shape=parallelogram,label="[12] System.out.println(\"Server is listening on port \" + port)"] 	13[shape=ellipse,label="[13] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 [label="T"] 	2 -> 7 	3 -> 4 	4 -> 5 [label="T"] 	4 -> 6 	5 -> 6 	6 -> 2 [label="B"] 	7 -> 8 	8 -> 9 	9 -> 10 	10 -> 11 	11 -> 12 	12 -> 13 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 3; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] this.contentType = \"text/plain\""] 	2[shape=box,label="[2] return \"Server is up.  Use POST method to request a diff or merge.\";"] 	3[shape=ellipse,label="[3] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 13; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] StringBuffer response = new StringBuffer()"] 	2[shape=diamond,label="[2] path.equals(\"/diff\")"] 	3[shape=diamond,label="[3] (form.containsKey(\"field1\") && form.containsKey(\"field2\"))"] 	4[shape=box,label="[4] this.contentType = \"text/html\""] 	5[shape=parallelogram,label="[5] response.append(diff(form.get(\"field1\"), form.get(\"field2\")))"] 	6[shape=parallelogram,label="[6] response.append(\"Required POST parameters: field1, field2\")"] 	7[shape=diamond,label="[7] path.equals(\"/merge\")"] 	8[shape=diamond,label="[8] (form.containsKey(\"field1\") && form.containsKey(\"field2\") && form.containsKey(\"ancestor\"))"] 	9[shape=box,label="[9] this.contentType = \"text/xml\""] 	10[shape=parallelogram,label="[10] response.append(merge(form.get(\"field1\"), form.get(\"field2\"), form.get(\"ancestor\")))"] 	11[shape=parallelogram,label="[11] response.append(\"Required POST parameters: field1, field2, ancestor\")"] 	12[shape=box,label="[12] return response.toString();"] 	13[shape=ellipse,label="[13] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 [label="T"] 	2 -> 7 [label="F"] 	3 -> 4 [label="T"] 	3 -> 6 [label="F"] 	4 -> 5 	5 -> 12 	6 -> 12 	7 -> 8 [label="T"] 	7 -> 12 	8 -> 9 [label="T"] 	8 -> 11 [label="F"] 	9 -> 10 	10 -> 12 	11 -> 12 	12 -> 13 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 36; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=diamond,label="[1] try {\l	ByteArrayOutputStream out = new ByteArrayOutputStream();\l	SAXTransformerFactory tf = (SAXTransformerFactory)TransformerFactory.newInstance();\l	TransformerHandler result = tf.newTransformerHandler();\l	result.setResult(new StreamResult(out));\l	XslFilter filter = new XslFilter();\l	String xsl = \"org/outerj/daisy/diff/threeway.xsl\";\l	ContentHandler postProcess = filter.xsl(result, xsl);\l	Locale locale = Locale.getDefault();\l	String prefix = \"diff\";\l	HtmlCleaner cleaner = new HtmlCleaner();\l	InputSource ancestorSource = new InputSource(new ByteArrayInputStream(ancestor.getBytes()));\l	InputSource oldSource = new InputSource(new ByteArrayInputStream(left.getBytes()));\l	InputSource newSource = new InputSource(new ByteArrayInputStream(right.getBytes()));\l	DomTreeBuilder ancestorHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(ancestorSource, ancestorHandler);\l	TextNodeComparator ancestorComparator = new TextNodeComparator(ancestorHandler, locale, true);\l	DomTreeBuilder oldHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(oldSource, oldHandler);\l	TextNodeComparator leftComparator = new TextNodeComparator(oldHandler, locale, true);\l	DomTreeBuilder newHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(newSource, newHandler);\l	TextNodeComparator rightComparator = new TextNodeComparator(newHandler, locale, true);\l	postProcess.startDocument();\l	postProcess.startElement(\"\", \"diffreport\", \"diffreport\", new AttributesImpl());\l	postProcess.startElement(\"\", \"diff\", \"diff\", new AttributesImpl());\l	HtmlSaxDiffOutput output = new HtmlSaxDiffOutput(postProcess, prefix);\l	HTMLDiffer differ = new HTMLDiffer(output);\l	differ.diff(ancestorComparator, leftComparator, rightComparator);\l	postProcess.endElement(\"\", \"diff\", \"diff\");\l	postProcess.endElement(\"\", \"diffreport\", \"diffreport\");\l	postProcess.endDocument();\l	return out.toString();\l}\lcatch (Throwable e) {\l	return e.getMessage();\l}\l"] 	2[shape=box,label="[2] ByteArrayOutputStream out = new ByteArrayOutputStream()"] 	3[shape=box,label="[3] SAXTransformerFactory tf = (SAXTransformerFactory)TransformerFactory.newInstance()"] 	4[shape=box,label="[4] TransformerHandler result = tf.newTransformerHandler()"] 	5[shape=parallelogram,label="[5] result.setResult(new StreamResult(out))"] 	6[shape=box,label="[6] XslFilter filter = new XslFilter()"] 	7[shape=box,label="[7] String xsl = \"org/outerj/daisy/diff/threeway.xsl\""] 	8[shape=box,label="[8] ContentHandler postProcess = filter.xsl(result, xsl)"] 	9[shape=box,label="[9] Locale locale = Locale.getDefault()"] 	10[shape=box,label="[10] String prefix = \"diff\""] 	11[shape=box,label="[11] HtmlCleaner cleaner = new HtmlCleaner()"] 	12[shape=box,label="[12] InputSource ancestorSource = new InputSource(new ByteArrayInputStream(ancestor.getBytes()))"] 	13[shape=box,label="[13] InputSource oldSource = new InputSource(new ByteArrayInputStream(left.getBytes()))"] 	14[shape=box,label="[14] InputSource newSource = new InputSource(new ByteArrayInputStream(right.getBytes()))"] 	15[shape=box,label="[15] DomTreeBuilder ancestorHandler = new DomTreeBuilder()"] 	16[shape=parallelogram,label="[16] cleaner.cleanAndParse(ancestorSource, ancestorHandler)"] 	17[shape=box,label="[17] TextNodeComparator ancestorComparator = new TextNodeComparator(ancestorHandler, locale, true)"] 	18[shape=box,label="[18] DomTreeBuilder oldHandler = new DomTreeBuilder()"] 	19[shape=parallelogram,label="[19] cleaner.cleanAndParse(oldSource, oldHandler)"] 	20[shape=box,label="[20] TextNodeComparator leftComparator = new TextNodeComparator(oldHandler, locale, true)"] 	21[shape=box,label="[21] DomTreeBuilder newHandler = new DomTreeBuilder()"] 	22[shape=parallelogram,label="[22] cleaner.cleanAndParse(newSource, newHandler)"] 	23[shape=box,label="[23] TextNodeComparator rightComparator = new TextNodeComparator(newHandler, locale, true)"] 	24[shape=parallelogram,label="[24] postProcess.startDocument()"] 	25[shape=parallelogram,label="[25] postProcess.startElement(\"\", \"diffreport\", \"diffreport\", new AttributesImpl())"] 	26[shape=parallelogram,label="[26] postProcess.startElement(\"\", \"diff\", \"diff\", new AttributesImpl())"] 	27[shape=box,label="[27] HtmlSaxDiffOutput output = new HtmlSaxDiffOutput(postProcess, prefix)"] 	28[shape=box,label="[28] HTMLDiffer differ = new HTMLDiffer(output)"] 	29[shape=parallelogram,label="[29] differ.diff(ancestorComparator, leftComparator, rightComparator)"] 	30[shape=parallelogram,label="[30] postProcess.endElement(\"\", \"diff\", \"diff\")"] 	31[shape=parallelogram,label="[31] postProcess.endElement(\"\", \"diffreport\", \"diffreport\")"] 	32[shape=parallelogram,label="[32] postProcess.endDocument()"] 	33[shape=box,label="[33] return out.toString();"] 	34[shape=box,label="[34] catch (Throwable e) {\l	return e.getMessage();\l}\l"] 	35[shape=box,label="[35] return e.getMessage();"] 	36[shape=ellipse,label="[36] EXIT"] 	0 -> 1 	1 -> 2 [label="T"] 	1 -> 34 [label="F"] 	2 -> 3 	3 -> 4 	4 -> 5 	5 -> 6 	6 -> 7 	7 -> 8 	8 -> 9 	9 -> 10 	10 -> 11 	11 -> 12 	12 -> 13 	13 -> 14 	14 -> 15 	15 -> 16 	16 -> 17 	17 -> 18 	18 -> 19 	19 -> 20 	20 -> 21 	21 -> 22 	22 -> 23 	23 -> 24 	24 -> 25 	25 -> 26 	26 -> 27 	27 -> 28 	28 -> 29 	29 -> 30 	30 -> 31 	31 -> 32 	32 -> 33 	33 -> 36 	34 -> 35 	35 -> 36 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 32; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=diamond,label="[1] try {\l	ByteArrayOutputStream out = new ByteArrayOutputStream();\l	SAXTransformerFactory tf = (SAXTransformerFactory)TransformerFactory.newInstance();\l	TransformerHandler result = tf.newTransformerHandler();\l	result.setResult(new StreamResult(out));\l	XslFilter filter = new XslFilter();\l	String xsl = \"org/outerj/daisy/diff/sidebyside.xsl\";\l	ContentHandler postProcess = filter.xsl(result, xsl);\l	Locale locale = Locale.getDefault();\l	String prefix = \"diff\";\l	HtmlCleaner cleaner = new HtmlCleaner();\l	InputSource oldSource = new InputSource(new ByteArrayInputStream(left.getBytes()));\l	InputSource newSource = new InputSource(new ByteArrayInputStream(right.getBytes()));\l	DomTreeBuilder oldHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(oldSource, oldHandler);\l	TextNodeComparator leftComparator = new TextNodeComparator(oldHandler, locale);\l	DomTreeBuilder newHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(newSource, newHandler);\l	TextNodeComparator rightComparator = new TextNodeComparator(newHandler, locale);\l	postProcess.startDocument();\l	postProcess.startElement(\"\", \"diffreport\", \"diffreport\", new AttributesImpl());\l	postProcess.startElement(\"\", \"diff\", \"diff\", new AttributesImpl());\l	HtmlSaxDiffOutput output = new HtmlSaxDiffOutput(postProcess, prefix);\l	SideBySideHTMLDiffer differ = new SideBySideHTMLDiffer(output);\l	differ.diff(leftComparator, rightComparator);\l	postProcess.endElement(\"\", \"diff\", \"diff\");\l	postProcess.endElement(\"\", \"diffreport\", \"diffreport\");\l	postProcess.endDocument();\l	return out.toString();\l}\lcatch (Throwable e) {\l	return e.getMessage();\l}\l"] 	2[shape=box,label="[2] ByteArrayOutputStream out = new ByteArrayOutputStream()"] 	3[shape=box,label="[3] SAXTransformerFactory tf = (SAXTransformerFactory)TransformerFactory.newInstance()"] 	4[shape=box,label="[4] TransformerHandler result = tf.newTransformerHandler()"] 	5[shape=parallelogram,label="[5] result.setResult(new StreamResult(out))"] 	6[shape=box,label="[6] XslFilter filter = new XslFilter()"] 	7[shape=box,label="[7] String xsl = \"org/outerj/daisy/diff/sidebyside.xsl\""] 	8[shape=box,label="[8] ContentHandler postProcess = filter.xsl(result, xsl)"] 	9[shape=box,label="[9] Locale locale = Locale.getDefault()"] 	10[shape=box,label="[10] String prefix = \"diff\""] 	11[shape=box,label="[11] HtmlCleaner cleaner = new HtmlCleaner()"] 	12[shape=box,label="[12] InputSource oldSource = new InputSource(new ByteArrayInputStream(left.getBytes()))"] 	13[shape=box,label="[13] InputSource newSource = new InputSource(new ByteArrayInputStream(right.getBytes()))"] 	14[shape=box,label="[14] DomTreeBuilder oldHandler = new DomTreeBuilder()"] 	15[shape=parallelogram,label="[15] cleaner.cleanAndParse(oldSource, oldHandler)"] 	16[shape=box,label="[16] TextNodeComparator leftComparator = new TextNodeComparator(oldHandler, locale)"] 	17[shape=box,label="[17] DomTreeBuilder newHandler = new DomTreeBuilder()"] 	18[shape=parallelogram,label="[18] cleaner.cleanAndParse(newSource, newHandler)"] 	19[shape=box,label="[19] TextNodeComparator rightComparator = new TextNodeComparator(newHandler, locale)"] 	20[shape=parallelogram,label="[20] postProcess.startDocument()"] 	21[shape=parallelogram,label="[21] postProcess.startElement(\"\", \"diffreport\", \"diffreport\", new AttributesImpl())"] 	22[shape=parallelogram,label="[22] postProcess.startElement(\"\", \"diff\", \"diff\", new AttributesImpl())"] 	23[shape=box,label="[23] HtmlSaxDiffOutput output = new HtmlSaxDiffOutput(postProcess, prefix)"] 	24[shape=box,label="[24] SideBySideHTMLDiffer differ = new SideBySideHTMLDiffer(output)"] 	25[shape=parallelogram,label="[25] differ.diff(leftComparator, rightComparator)"] 	26[shape=parallelogram,label="[26] postProcess.endElement(\"\", \"diff\", \"diff\")"] 	27[shape=parallelogram,label="[27] postProcess.endElement(\"\", \"diffreport\", \"diffreport\")"] 	28[shape=parallelogram,label="[28] postProcess.endDocument()"] 	29[shape=box,label="[29] return out.toString();"] 	30[shape=box,label="[30] catch (Throwable e) {\l	return e.getMessage();\l}\l"] 	31[shape=box,label="[31] return e.getMessage();"] 	32[shape=ellipse,label="[32] EXIT"] 	0 -> 1 	1 -> 2 [label="T"] 	1 -> 30 [label="F"] 	2 -> 3 	3 -> 4 	4 -> 5 	5 -> 6 	6 -> 7 	7 -> 8 	8 -> 9 	9 -> 10 	10 -> 11 	11 -> 12 	12 -> 13 	13 -> 14 	14 -> 15 	15 -> 16 	16 -> 17 	17 -> 18 	18 -> 19 	19 -> 20 	20 -> 21 	21 -> 22 	22 -> 23 	23 -> 24 	24 -> 25 	25 -> 26 	26 -> 27 	27 -> 28 	28 -> 29 	29 -> 32 	30 -> 31 	31 -> 32 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 23; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] StringBuffer content = new StringBuffer()"] 	2[shape=box,label="[2] BufferedReader br = new BufferedReader(new InputStreamReader(exchange.getRequestBody()))"] 	3[shape=box,label="[3] String line"] 	4[shape=diamond,label="[4] line = br.readLine() != null"] 	5[shape=parallelogram,label="[5] content.append(line)"] 	6[shape=parallelogram,label="[6] br.close()"] 	7[shape=box,label="[7] HashMap<String, String> form = parseForm(content.toString(), \"UTF-8\")"] 	8[shape=box,label="[8] String requestMethod = exchange.getRequestMethod()"] 	9[shape=box,label="[9] String path = exchange.getRequestURI().getPath()"] 	10[shape=parallelogram,label="[10] System.out.println(requestMethod + \" \" + path)"] 	11[shape=box,label="[11] String response"] 	12[shape=diamond,label="[12] requestMethod.equalsIgnoreCase(\"GET\")"] 	13[shape=box,label="[13] response = doGet(form, path)"] 	14[shape=diamond,label="[14] requestMethod.equalsIgnoreCase(\"POST\")"] 	15[shape=box,label="[15] response = doPost(form, path)"] 	16[shape=box,label="[16] response = \"Method not supported: \" + requestMethod"] 	17[shape=box,label="[17] byte[] responseBytes = response.getBytes()"] 	18[shape=parallelogram,label="[18] sendResponseHeaders(exchange, responseBytes.length)"] 	19[shape=box,label="[19] OutputStream responseBody = exchange.getResponseBody()"] 	20[shape=parallelogram,label="[20] responseBody.write(responseBytes)"] 	21[shape=parallelogram,label="[21] responseBody.close()"] 	22[shape=parallelogram,label="[22] System.out.println(responseBytes.length + \" bytes sent in response\")"] 	23[shape=ellipse,label="[23] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 	3 -> 4 	4 -> 5 [label="T"] 	4 -> 6 	5 -> 4 [label="B"] 	6 -> 7 	7 -> 8 	8 -> 9 	9 -> 10 	10 -> 11 	11 -> 12 	12 -> 13 [label="T"] 	12 -> 14 [label="F"] 	13 -> 17 	14 -> 15 [label="T"] 	14 -> 16 [label="F"] 	15 -> 17 	16 -> 17 	17 -> 18 	18 -> 19 	19 -> 20 	20 -> 21 	21 -> 22 	22 -> 23 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 9; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] HashMap<String, String> form = new HashMap<String, String>()"] 	2[shape=box,label="[2] StringTokenizer params = new StringTokenizer(raw, \"&\")"] 	3[shape=diamond,label="[3] params.hasMoreTokens()"] 	4[shape=box,label="[4] String p = params.nextToken()"] 	5[shape=box,label="[5] String[] parts = p.split(\"=\")"] 	6[shape=box,label="[6] String value = parts.length > 1 ? parts[1] : \"\""] 	7[shape=parallelogram,label="[7] form.put(URLDecoder.decode(parts[0], encoding), URLDecoder.decode(value, encoding))"] 	8[shape=box,label="[8] return form;"] 	9[shape=ellipse,label="[9] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 	3 -> 4 [label="T"] 	3 -> 8 	4 -> 5 	5 -> 6 	6 -> 7 	7 -> 3 [label="B"] 	8 -> 9 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 4; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] Headers responseHeaders = exchange.getResponseHeaders()"] 	2[shape=parallelogram,label="[2] responseHeaders.set(\"Content-Type\", contentType)"] 	3[shape=parallelogram,label="[3] exchange.sendResponseHeaders(200, length)"] 	4[shape=ellipse,label="[4] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 	3 -> 4 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , 
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/a51b619bff9942292d4319ddc1e15a36c3f7c0a2 , fixes #57 daisydiff server sends incorrect response length  , 
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/de0760e957776bb050142d450cf0237b9c48c15e , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 13; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] int i = 0"] 	2[shape=diamond,label="[2] i < args.length"] 	3[shape=box,label="[3] String[] split = args[i].split(\"=\")"] 	4[shape=diamond,label="[4] split[0].equalsIgnoreCase(\"--port\")"] 	5[shape=box,label="[5] port = Integer.parseInt(split[1])"] 	6[shape=box,label="[6] i++"] 	7[shape=box,label="[7] InetSocketAddress addr = new InetSocketAddress(port)"] 	8[shape=box,label="[8] HttpServer server = HttpServer.create(addr, 0)"] 	9[shape=parallelogram,label="[9] server.createContext(\"/\", new DaisyDiffHandler())"] 	10[shape=parallelogram,label="[10] server.setExecutor(Executors.newCachedThreadPool())"] 	11[shape=parallelogram,label="[11] server.start()"] 	12[shape=parallelogram,label="[12] System.out.println(\"Server is listening on port \" + port)"] 	13[shape=ellipse,label="[13] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 [label="T"] 	2 -> 7 	3 -> 4 	4 -> 5 [label="T"] 	4 -> 6 	5 -> 6 	6 -> 2 [label="B"] 	7 -> 8 	8 -> 9 	9 -> 10 	10 -> 11 	11 -> 12 	12 -> 13 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/de0760e957776bb050142d450cf0237b9c48c15e , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 3; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] this.contentType = \"text/plain\""] 	2[shape=box,label="[2] return \"Server is up.  Use POST method to request a diff or merge.\";"] 	3[shape=ellipse,label="[3] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/de0760e957776bb050142d450cf0237b9c48c15e , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 13; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=box,label="[1] StringBuffer response = new StringBuffer()"] 	2[shape=diamond,label="[2] path.equals(\"/diff\")"] 	3[shape=diamond,label="[3] (form.containsKey(\"field1\") && form.containsKey(\"field2\"))"] 	4[shape=box,label="[4] this.contentType = \"text/html\""] 	5[shape=parallelogram,label="[5] response.append(diff(form.get(\"field1\"), form.get(\"field2\")))"] 	6[shape=parallelogram,label="[6] response.append(\"Required POST parameters: field1, field2\")"] 	7[shape=diamond,label="[7] path.equals(\"/merge\")"] 	8[shape=diamond,label="[8] (form.containsKey(\"field1\") && form.containsKey(\"field2\") && form.containsKey(\"ancestor\"))"] 	9[shape=box,label="[9] this.contentType = \"text/xml\""] 	10[shape=parallelogram,label="[10] response.append(merge(form.get(\"field1\"), form.get(\"field2\"), form.get(\"ancestor\")))"] 	11[shape=parallelogram,label="[11] response.append(\"Required POST parameters: field1, field2, ancestor\")"] 	12[shape=box,label="[12] return response.toString();"] 	13[shape=ellipse,label="[13] EXIT"] 	0 -> 1 	1 -> 2 	2 -> 3 [label="T"] 	2 -> 7 [label="F"] 	3 -> 4 [label="T"] 	3 -> 6 [label="F"] 	4 -> 5 	5 -> 12 	6 -> 12 	7 -> 8 [label="T"] 	7 -> 12 	8 -> 9 [label="T"] 	8 -> 11 [label="F"] 	9 -> 10 	10 -> 12 	11 -> 12 	12 -> 13 }
https://github.com/localwiki/localwiki , https://github.com/localwiki/localwiki/commit/de0760e957776bb050142d450cf0237b9c48c15e , fixes #57 daisydiff server sends incorrect response length  , digraph { 	{ rank = source; 0; } 	{ rank = sink; 36; } 	0[shape=ellipse,label="[0] ENTRY"] 	1[shape=diamond,label="[1] try {\l	ByteArrayOutputStream out = new ByteArrayOutputStream();\l	SAXTransformerFactory tf = (SAXTransformerFactory)TransformerFactory.newInstance();\l	TransformerHandler result = tf.newTransformerHandler();\l	result.setResult(new StreamResult(out));\l	XslFilter filter = new XslFilter();\l	String xsl = \"org/outerj/daisy/diff/threeway.xsl\";\l	ContentHandler postProcess = filter.xsl(result, xsl);\l	Locale locale = Locale.getDefault();\l	String prefix = \"diff\";\l	HtmlCleaner cleaner = new HtmlCleaner();\l	InputSource ancestorSource = new InputSource(new ByteArrayInputStream(ancestor.getBytes()));\l	InputSource oldSource = new InputSource(new ByteArrayInputStream(left.getBytes()));\l	InputSource newSource = new InputSource(new ByteArrayInputStream(right.getBytes()));\l	DomTreeBuilder ancestorHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(ancestorSource, ancestorHandler);\l	TextNodeComparator ancestorComparator = new TextNodeComparator(ancestorHandler, locale, true);\l	DomTreeBuilder oldHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(oldSource, oldHandler);\l	TextNodeComparator leftComparator = new TextNodeComparator(oldHandler, locale, true);\l	DomTreeBuilder newHandler = new DomTreeBuilder();\l	cleaner.cleanAndParse(newSource, newHandler);\l	TextNodeComparator rightComparator = new TextNodeComparator(newHandler, locale, true);\l	postProcess.startDocument();\l	postProcess.startElement(\"\", \"diffreport\", \"diffreport\", new AttributesImpl());\l	postProcess.startElement(\"\", \"diff\", \"diff\", new AttributesImpl());\l	HtmlSaxDiffOutput output = new HtmlSaxDiffOutput(postProcess, prefix);\l	HTMLDiffer differ = new HTMLDiffer(output);\l	differ.diff(ancestorComparator, leftComparator, rightComparator);\l	postProcess.endElement(\"\", \"diff\", \"diff\");\l	postProcess.endElement(\"\", \"diffreport\", \"diffreport\");\l	postProcess.endDocument();\l	return out.toString();\l}\lcatch (Throwable e) {\l	return e.getMessage();\l}\l"] 	2[shape=box,label="[2] ByteArrayOutputStream out = new ByteArrayOutputStream()"] 	3[shape=box,label="[3] SAXTransformerFactory tf = (SAXTransformerFactory)TransformerFactory.newInstance()"] 	4[shape=box,label="[4] TransformerHandler result = tf.newTransformerHandler()"] 	5[shape=parallelogram,label="[5] result.setResult(new StreamResult(out))"] 	6[shape=box,label="[6] XslFilter filter = new XslFilter()"] 	7[shape=box,label="[7] String xsl = \"org/outerj/daisy/diff/threeway.xsl\""] 	8[shape=box,label="[8] ContentHandler postProcess = filter.xsl(result, xsl)"] 	9[shape=box,label="[9] Locale locale = Locale.getDefault()"] 	10[shape=box,label="[10] String prefix = \"diff\""] 	11[shape=box,label="[11] HtmlCleaner cleaner = new HtmlCleaner()"] 	12[shape=box,label="[12] InputSource ancestorSource = new InputSource(new ByteArrayInputStream(ancestor.getBytes()))"] 	13[shape=box,label="[13] InputSource oldSource = new InputSource(new ByteArrayInputStream(left.getBytes()))"] 	14[shape=box,label="[14] InputSource newSource = new InputSource(new ByteArrayInputStream(right.getBytes()))"] 	15[shape=box,label="[15] DomTreeBuilder ancestorHandler = new DomTreeBuilder()"] 	16[shape=parallelogram,label="[16] cleaner.cleanAndParse(ancestorSource, ancestorHandler)"] 	17[shape=box,label="[17] TextNodeComparator ancestorComparator = new TextNodeComparator(ancestorHandler, locale, true)"] 	18[shape=box,label="[18] DomTreeBuilder oldHandler = new DomTreeBuilder()"] 	19[shape=parallelogram,label="[19] cleaner.cleanAndParse(oldSource, oldHandler)"] 	20[shape=box,label="[20] TextNodeComparator leftComparator = new TextNodeComparator(oldHandler, locale, true)"] 	21[shape=box,label="[21] DomTreeBuilder newHandler = new DomTreeBuilder()"] 	22[shape=parallelogram,label="[22] cleaner.cleanAndParse(newSource, newHandler)"] 	23[shape=box,label="[23] TextNodeComparator rightComparator = new TextNodeComparator(newHandler, locale, true)"] 	24[shape=parallelogram,label="[24] postProcess.startDocument()"] 	25[shape=parallelogram,label="[25] postProcess.startElement(\"\", \"diffreport\", \"diffreport\", new AttributesImpl())"] 	26[shape=parallelogram,label="[26] postProcess.startElement(\"\", \"diff\", \"diff\", new AttributesImpl())"] 	27[shape=box,label="[27] HtmlSaxDiffOutput output = new HtmlSaxDiffOutput(postProcess, prefix)"] 	28[shape=box,label="[28] HTMLDiffer differ = new HTMLDiffer(output)"] 	29[shape=parallelogram,label="[29] differ.diff(ancestorComparator, leftComparator, rightComparator)"] 	30[shape=parallelogram,label="[30] postProcess.endElement(\"\", \"diff\", \"diff\")"] 	31[shape=parallelogram,label="[31] postProcess.endElement(\"\", \"diffreport\", \"diffreport\")"] 	32[shape=parallelogram,label="[32] postProcess.endDocument()"] 	33[shape=box,label="[33] return out.toString();"] 	34[shape=box,label="[34] catch (Throwable e) {\l	return e.getMessage();\l}\l"] 	35[shape=box,label="[35] return e.getMessage();"] 	36[shape=ellipse,label="[36] EXIT"] 	0 -> 1 	1 -> 2 [label="T"] 	1 -> 34 [label="F"] 	2 -> 3 	3 -> 4 	4 -> 5 	5 -> 6 	6 -> 7 	7 -> 8 	8 -> 9 	9 -> 10 	10 -> 11 	11 -> 12 	12 -> 13 	13 -> 14 	14 -> 15 	15 -> 16 	16 -> 17 	17 -> 18 	18 -> 19 	19 -> 20 	20 -> 21 	21 -> 22 	22 -> 23 	23 -> 24 	24 -> 25 	25 -> 26 	26 -> 27 	27 -> 28 	28 -> 29 	29 -> 30 	30 -> 31 	31 -> 32 	32 -> 33 	33 -> 36 	34 -> 35 	35 -> 36 }